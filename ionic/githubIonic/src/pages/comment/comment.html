<ion-header>
    <ion-navbar>
        <ion-title>
            Comments
        </ion-title>
        </ion-navbar>
</ion-header>
    
<ion-content>
  <ion-list>
      <ion-item-sliding *ngFor="let comment of comments">
        <ion-item class="comment">
          <ion-avatar item-start>
            <img src="http://i.imgur.com/TutN2uB.png">
          </ion-avatar>
           <h1 (click)="displayProfile(comment.authorId)">@{{comment.author}}</h1>
           <button class="replybutton" ion-button clear small (click)="reply(comment.author)">
             <div>reply</div> 
             <ion-icon name="redo" ></ion-icon>
           </button>  
              <p>{{comment.text}}</p>
        </ion-item>
            <ion-item-options side="left">
           <button *ngIf="isUsersProfile(comment.authorId)" ion-button  (click)="edit(comment.id,comment.text)"><ion-icon name="create"> </ion-icon>Edit</button>
            </ion-item-options>
          <ion-item-options side="right">
          <button *ngIf="isUsersProfile(comment.authorId)" ion-button color="danger"  (click)="deleteComment(comment.id)"><ion-icon name="trash"></ion-icon>Delete</button>
      </ion-item-options>
     </ion-item-sliding>
  </ion-list>
</ion-content>

<ion-footer>
  <div>    
    <ion-textarea  placeholder="leave a comment" [(ngModel)]="text">{{text}}</ion-textarea>
    <button *ngIf="isEdited==false" ion-button full outline (click)="addComment()">
     post<ion-icon name="arrow-forward"></ion-icon>
    </button>
    <button *ngIf="isEdited==true" ion-button full outline (click)="editComment()">
     Edit <ion-icon name="arrow-forward"></ion-icon>
    </button>
  </div>
</ion-footer>
